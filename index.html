<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>History and a Day Quiz</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
        .credit {
            text-align: center;
            padding: 0.5rem;
            font-size: 1.35rem;
            background: #ecf0f1;
            font-style: italic;
        }
        .credit span { display: block; }
        header { background: #1abc9c; color: white; padding: 1rem; text-align: center; position: relative; }
        header h1 { margin: 0; font-size: 1.5rem; }
        header .timer { position: absolute; top: 1rem; right: 1rem; background: #e67e22; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: bold; }
        header .scoreboard { position: absolute; top: 1rem; left: 1rem; background: #34495e; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: bold; }
        .controls { display: flex; flex-direction: column; align-items: center; margin: 2rem 0; }
        .btn-group { display: flex; justify-content: center; flex-wrap: wrap; margin: 0.5rem; }
        .btn { padding: 0.75rem 1.5rem; margin: 0.25rem; border: none; border-radius: 1rem; box-shadow: 0 2px 5px rgba(0,0,0,0.2); cursor: pointer; font-size: 1rem; transition: transform 0.1s; }
        .btn:hover { transform: scale(1.05); }
        .btn.selected { box-shadow: 0 0 0 3px #34495e; }
        .category-1 { background: #a3d5ff; }
        .category-2 { background: #ffb3c1; }
        .category-3 { background: #fff5b7; }
        .category-4 { background: #c1ffd7; }
        .category-5 { background: #d9b3ff; }
        .level-easy { background: #2ecc71; color: white; }
        .level-medium { background: #f1c40f; color: #333; }
        .level-hard { background: #e74c3c; color: white; }
        .quiz-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 50vh;
            padding: 1rem;
        }
        .quiz-card {
            background: linear-gradient(180deg, #ffffff, #e0e0e0);
            border-radius: 1rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        .question { font-size: 1.25rem; margin-bottom: 1.5rem; }
        .options {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        .option-btn {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border: none;
            border-radius: 0.75rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.1s;
            min-width: 120px;
        }
        .option-btn:hover { transform: scale(1.05); }
        .true-btn { background: #2ecc71; color: white; }
        .false-btn { background: #e74c3c; color: white; }
        .feedback {
            font-weight: bold;
            margin: 1.5rem 0;
            text-align: center;
            min-height: 24px;
        }
        .footer { text-align: center; margin: 2rem 0; }
    </style>
</head>
<body>
    <div class="credit">Created by Panagiotis Domvros 2025 (CC BY-NC)<span>Διευθυντής 1ου Γυμνασίου Πυλαίας</span></div>
    <header>
        <h1>History and a Day</h1>
        <div class="timer" id="timer">00"</div>
        <div class="scoreboard" id="scoreboard">Score: 0</div>
    </header>

    <section class="controls" id="controls">
        <div class="btn-group categories">
            <button class="btn category-1" data-cat="1">🌟 Αρχαιότητα</button>
            <button class="btn category-2" data-cat="2">🏺 Ελληνιστικοί & Ρωμαϊκοί</button>
            <button class="btn category-3" data-cat="3">🏰 Βυζαντινοί Χρόνοι</button>
            <button class="btn category-4" data-cat="4">🛡️ Νεότεροι Χρόνοι</button>
            <button class="btn category-5" data-cat="5">🚀 Σύγχρονη Εποχή</button>
        </div>
        <div class="btn-group levels">
            <button class="btn level-easy" data-level="easy">😊 Εύκολο</button>
            <button class="btn level-medium" data-level="medium">😐 Μέτριο</button>
            <button class="btn level-hard" data-level="hard">😣 Δύσκολο</button>
        </div>
    </section>

    <section class="quiz-container">
        <div class="quiz-card" id="quiz-card" hidden>
            <div class="question" id="question-text"></div>
            <div class="options" id="options">
                <button class="option-btn true-btn" data-opt="true">✅ Σωστό</button>
                <button class="option-btn false-btn" data-opt="false">❌ Λάθος</button>
            </div>
            <div class="feedback" id="feedback"></div>
        </div>
    </section>

    <section class="footer">
        <button id="restart-btn" class="btn level-medium" hidden>Ξεκίνα ξανά 🎉</button>
    </section>

    <script>
        const quizData = {
            "1": {
                "medium": [
                    { q: "Η Πρώτη Ολυμπιάδα πραγματοποιήθηκε το 776 π.Χ.", ans: "true", time: 10 },
                    { q: "Η Πρώτη Ολυμπιάδα πραγματοποιήθηκε το 777 π.Χ.", ans: "false", time: 10 }
                ],
                "easy": [
                    { q: "Η Μάχη του Μαραθώνα έγινε το 490 π.Χ.", ans: "true", time: 10 },
                    { q: "Η Μάχη του Μαραθώνα έγινε το 489 π.Χ.", ans: "false", time: 10 }
                ],
                "hard": []
            },
            "2": {
                "easy": [
                    { q: "Ο Θάνατος του Μεγάλου Αλεξάνδρου έγινε το 323 π.Χ.", ans: "true", time: 10 },
                    { q: "Ο Θάνατος του Μεγάλου Αλεξάνδρου έγινε το 322 π.Χ.", ans: "false", time: 10 }
                ],
                "medium": [
                    { q: "Η ίδρυση Θεσσαλονίκης έγινε το 316 π.Χ.", ans: "true", time: 10 },
                    { q: "Η ίδρυση Θεσσαλονίκης έγινε το 317 π.Χ.", ans: "false", time: 10 }
                ],
                "hard": [
                    { q: "Η ίδρυση Αντιόχειας έγινε το 300 π.Χ.", ans: "true", time: 10 },
                    { q: "Η ίδρυση Αντιόχειας έγινε το 301 π.Χ.", ans: "false", time: 10 }
                ]
            },
            "3": {
                "easy": [
                    { q: "Η ανάληψη του Ιουστινιανού Α' έγινε το 527 μ.Χ.", ans: "true", time: 10 },
                    { q: "Η ανάληψη του Ιουστινιανού Α' έγινε το 528 μ.Χ.", ans: "false", time: 10 }
                ],
                "medium": [
                    { q: "Το τέλος της Δυτικής Ρωμαϊκής Αυτοκρατορίας έγινε το 476 μ.Χ.", ans: "true", time: 10 },
                    { q: "Το τέλος της Δυτικής Ρωμαϊκής Αυτοκρατορίας έγινε το 475 μ.Χ.", ans: "false", time: 10 }
                ],
                "hard": [
                    { q: "Η Άλωση Ρώμης από τους Βησιγότθους έγινε 23 Αυγούστου 410 μ.Χ.", ans: "true", time: 10 },
                    { q: "Η Άλωση Ρώμης από τους Βησιγότθους έγινε 24 Αυγούστου 410 μ.Χ.", ans: "false", time: 10 }
                ]
            },
            "4": {
                "easy": [
                    { q: "Η Ανακάλυψη της Αμερικής έγινε το 1492.", ans: "true", time: 10 },
                    { q: "Η Ανακάλυψη της Αμερικής έγινε το 1493.", ans: "false", time: 10 }
                ],
                "medium": [
                    { q: "Ο πρώτος περίπλους της Γης έγινε μεταξύ 1519–1522.", ans: "true", time: 10 },
                    { q: "Ο πρώτος περίπλους της Γης έγινε μεταξύ 1518–1521.", ans: "false", time: 10 }
                ],
                "hard": [
                    { q: "Οι Θέσεις του Μαρτίνου Λούθηρου στη Βιτεμβέργη έγιναν το 1517.", ans: "true", time: 10 },
                    { q: "Οι Θέσεις του Μαρτίνου Λούθηρου στη Βιτεμβέργη έγιναν το 1518.", ans: "false", time: 10 }
                ]
            },
            "5": {
                "easy": [
                    { q: "Η έναρξη της Ελληνικής Επανάστασης έγινε το 1821.", ans: "true", time: 10 },
                    { q: "Η έναρξη της Ελληνικής Επανάστασης έγινε το 1822.", ans: "false", time: 10 }
                ],
                "medium": [
                    { q: "Η Άλωση της Τριπολιτσάς έγινε 23 Σεπτεμβρίου 1821.", ans: "true", time: 10 },
                    { q: "Η Άλωση της Τριπολιτσάς έγινε 24 Σεπτεμβρίου 1821.", ans: "false", time: 10 }
                ],
                "hard": [
                    { q: "Η Ανατίναξη του 'Έσσεξ' έγινε 12 Σεπτεμβρίου 1821.", ans: "true", time: 10 },
                    { q: "Η Ανατίναξη του 'Έσσεξ' έγινε 13 Σεπτεμβρίου 1821.", ans: "false", time: 10 }
                ]
            }
        };

        const timerEl = document.getElementById('timer');
        const boardEl = document.getElementById('scoreboard');
        const qText = document.getElementById('question-text');
        const feedback = document.getElementById('feedback');
        const qCard = document.getElementById('quiz-card');
        const controls = document.getElementById('controls');
        const restart = document.getElementById('restart-btn');
        const options = document.getElementById('options');

        let category = null;
        let level = null;
        let idx = 0;
        let score = 0;
        let timerId = null;
        let currentQuestion = null;

        function clearSel(group) { 
            group.forEach(b => b.classList.remove('selected')); 
        }

        // Καθαρίζει την οθόνη από ερώτηση και feedback
        function clearQuestion() {
            qText.textContent = '';
            feedback.textContent = '';
            qCard.hidden = true;
            clearTimeout(timerId);
            timerEl.textContent = '00"';
        }

        // Εμφανίζει τα κουμπιά επιλογής κατηγορίας/επιπέδου
        function showControls() {
            controls.hidden = false;
            clearQuestion();
        }

        document.querySelectorAll('.categories .btn').forEach(b => {
            b.onclick = () => {
                clearSel([...document.querySelectorAll('.categories .btn')]);
                b.classList.add('selected');
                category = b.dataset.cat;
                checkStart();
            };
        });

        document.querySelectorAll('.levels .btn').forEach(b => {
            b.onclick = () => {
                clearSel([...document.querySelectorAll('.levels .btn')]);
                b.classList.add('selected');
                level = b.dataset.level;
                checkStart();
            };
        });

        function checkStart() {
            if (category && level) {
                // Shuffle questions for the selected category and level
                if (quizData[category] && quizData[category][level]) {
                    quizData[category][level].sort(() => Math.random() - 0.5);
                }
                idx = 0;
                score = 0;
                boardEl.textContent = 'Score: 0';
                controls.hidden = true;
                showQuestion();
            }
        }

        function showQuestion() {
            if (!quizData[category] || !quizData[category][level] || idx >= quizData[category][level].length) {
                return endQuiz();
            }
            
            currentQuestion = quizData[category][level][idx];
            qText.textContent = currentQuestion.q;
            feedback.textContent = '';
            qCard.hidden = false;
            startTimer(currentQuestion.time);
        }

        function startTimer(sec) {
            clearInterval(timerId);
            let t = sec;
            timerEl.textContent = t + '"';
            timerId = setInterval(() => {
                t--;
                timerEl.textContent = t + '"';
                if (t <= 0) {
                    clearInterval(timerId);
                    answer(null);
                }
            }, 1000);
        }

        function answer(selected) {
            clearInterval(timerId);
            const correct = currentQuestion.ans;
            
            if (selected === correct) {
                score += 10;
                feedback.textContent = `Σωστά! Η σωστή απάντηση ήταν: ${correct === 'true' ? 'Σωστό' : 'Λάθος'}`;
            } else {
                feedback.textContent = `Λάθος! Η σωστή απάντηση ήταν: ${correct === 'true' ? 'Σωστό' : 'Λάθος'}`;
            }
            
            boardEl.textContent = `Score: ${score}`;
            idx++;
            
            // Εξαφάνιση της ερώτησης μετά από 1.5 δευτερόλεπτα
            setTimeout(() => {
                clearQuestion();
                // Εμφάνιση νέας ερώτησης μόνο αν υπάρχουν ακόμα ερωτήσεις
                if (idx < quizData[category][level].length) {
                    showControls();
                } else {
                    endQuiz();
                }
            }, 1500);
        }

        document.querySelectorAll('.option-btn').forEach(btn => {
            btn.onclick = () => answer(btn.dataset.opt);
        });

        function endQuiz() {
            qCard.hidden = false;
            qText.textContent = `Το quiz τελείωσε! Το τελικό σου σκορ είναι: ${score}`;
            feedback.textContent = '';
            options.hidden = true;
            restart.hidden = false;
        }

        restart.onclick = () => {
            category = level = null;
            idx = 0;
            score = 0;
            boardEl.textContent = 'Score: 0';
            restart.hidden = true;
            clearSel([...document.querySelectorAll('.btn')]);
            options.hidden = false;
            showControls();
        };
    </script>
</body>
</html>
